<!DOCTYPE html>
<html lang="sr" data-current-lang="sr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>D&M Digital — Staging</title>
  <meta name="description" content="Web, video i marketing — DE/SR/EN." />
  <style>
    :root { --bg:#0e1116; --surface:#141923; --card:#151a22; --muted:#98a2b3; --text:#e7eef7; --brand1:#62e0c6; --brand2:#9fa8fe; --radius:18px; }
    * { box-sizing: border-box; }
    html, body { margin: 0; height: 100%; background: var(--bg); color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    a { color: inherit; text-decoration: none; }
    .wrap { max-width: 1160px; margin: 0 auto; padding: 20px; }
    header { position: sticky; top: 0; background: rgba(14,17,22,.72); backdrop-filter: saturate(140%) blur(8px); border-bottom: 1px solid rgba(255,255,255,.06); z-index: 10; }
    .nav { display: flex; align-items: center; gap: 24px; padding: 14px 0; }
    .brand { display:flex; align-items:center; gap:10px; font-weight: 800; letter-spacing:.2px; }
    .nav a { opacity: .9; } .nav a:hover { opacity: 1; }
    .spacer { flex: 1; }
    .btn { display: inline-block; padding: 10px 16px; border-radius: 999px; background: linear-gradient(90deg, #62e0c6, #9fa8fe); color:#0b1020; font-weight:700; border:none; cursor:pointer; }
    .ghost { background: transparent; border: 1px solid rgba(255,255,255,.12); color: var(--text); }
    .lang button { padding:8px 12px; border-radius:999px; border:1px solid rgba(255,255,255,.12); background:#0f141b; color:var(--text); cursor:pointer; }
    .lang button.active { background: linear-gradient(90deg, #62e0c6, #9fa8fe); color:#0b1020; border-color:transparent; font-weight:700; }
    .hero { display:grid; grid-template-columns:1.1fr .9fr; gap:32px; align-items:center; padding:56px 0 24px; }
    .badge { display:inline-block; background:#0d131a; border:1px solid rgba(255,255,255,.08); padding:6px 10px; border-radius:999px; color:#c3ccd7; font-size:13px; }
    h1 { font-size:54px; line-height:1.1; margin:12px 0 8px; }
    .lead { color:var(--muted); max-width:720px; }
    .row { display:flex; gap:12px; margin-top:18px; }
    .note { margin-top:18px; background:#0d131a; border:1px solid rgba(255,255,255,.08); padding:12px 16px; border-radius:18px; color:#c7d0dc; }
    video.vid { width:100%; height:320px; background:#0a0f14; border-radius:20px; border:1px solid rgba(255,255,255,.06); display:block; }
    section { padding:42px 0; } h2 { font-size:34px; margin:0 0 6px; } .sub{color:#98a2b3; margin:0 0 18px;}
    .cards { display:grid; grid-template-columns:repeat(3, 1fr); gap:18px; }
    .card { background:#151a22; border:1px solid rgba(255,255,255,.08); border-radius:20px; padding:20px; }
    .card h3 { margin:10px 0 6px; } .card p { color:#cfd8e3; margin:0; }
    .faq .item{background:#151a22; border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:16px 18px; margin:12px 0;}
    .faq .q{font-weight:800; margin:0 0 6px} .faq .a{color:#cfd8e3; margin:0}
    footer { padding:36px 0; color:#aeb9c8; border-top:1px solid rgba(255,255,255,.06); margin-top:40px }
    footer .wrap{display:grid; grid-template-columns:1fr auto; align-items:center; gap:12px}
    .footer-right{color:#c3ccd7}
    @media (max-width:900px){ .hero{grid-template-columns:1fr; gap:18px} .cards{grid-template-columns:1fr} footer .wrap{grid-template-columns:1fr; text-align:center} }
  </style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand">
        <img src="https://raw.githubusercontent.com/dmdigitalenterpriseteam-rgb/dm-langing/main/logo-md%402x.png" alt="D&M Digital" style="height:24px;vertical-align:middle" />
      </div>
      <div>
        <a href="#services" data-i18n="nav_services">Usluge</a> ·
        <a href="#videos" data-i18n="video_title">Video</a>
      </div>
      <div class="spacer"></div>
      <div class="lang">
        <button data-setlang="en">EN</button>
        <button data-setlang="de">DE</button>
        <button data-setlang="sr" class="active">SRB</button>
      </div>
      <button class="btn" data-i18n="cta_top">Zatraži ponudu</button>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <div>
        <span class="badge" data-i18n="badge_stack">Digitalni dizajn • Video • Web</span>
        <h1 data-i18n="hero_title">Jednostavno — pravimo da vas pamte.</h1>
        <p class="lead" data-i18n="hero_sub">Web stranice, kratke video reklame i pametan marketing na nemačkom, srpskom i engleskom.</p>
        <div class="row">
          <a class="btn" href="#videos" data-i18n="cta_portfolio">Pogledaj portfolio</a>
          <a class="btn ghost" href="#services" data-i18n="cta_services">Usluge</a>
        </div>
        <div class="note" data-i18n="note_menu">Transparentan meni je stalno uključen (bez zamračenja). Ako želite poluprovidnu verziju na skrol – javite.</div>
      </div>
      <div>
        <!-- HERO: Robot (DE/EN/SR varijante) -->
        <video id="heroVideo" class="vid" controls aria-label="Robot hero video" preload="metadata">
          <source src="" type="video/mp4" />
        </video>
        <div class="note" data-i18n="note_video">Klikom na jezik birate verziju videa; zvuk je uključen.</div>
      </div>
    </section>

    <section id="services">
      <h2 data-i18n="services_title">Šta radimo (sa fokusom na rezultate)</h2>
      <p class="sub" data-i18n="services_sub">Tri stuba ponude koji najbrže donose efekat.</p>
      <div class="cards" id="serviceCards">
        <article class="card"><span class="badge chip">Web</span><h3>Brze, moderne web stranice</h3><p>Landing stranice, prezentacije, kontakt forme uz praćenje konverzija.</p></article>
        <article class="card"><span class="badge chip">Video</span><h3>Kratke video reklame</h3><p>Formati 15–45 s, titlovi na DE/SR/EN, optimizovano za društvene mreže.</p></article>
        <article class="card"><span class="badge chip">Marketing</span><h3>Kampanje i oglasi</h3><p>Facebook/Instagram/Google, kalendar sadržaja, hashtagovi i CTA poruke.</p></article>
      </div>
    </section>

    <!-- VIDEO -->
    <section id="videos">
      <h2 data-i18n="video_title">Video</h2>
      <p class="sub" data-i18n="video_sub">
        Dva kratka primera: Pekar Peter (storytelling) i Avatar Sandra (promotivni snimak). Jezik menja verziju videa.
      </p>
      <div class="cards">
        <article class="card">
          <h3 data-i18n="video_baker_h">Pekar Peter</h3>
          <video id="videoBaker" class="vid" controls preload="metadata">
            <source src="" type="video/mp4" />
          </video>
        </article>
        <article class="card">
          <h3 data-i18n="video_avatar_h">Avatar Sandra</h3>
          <video id="videoAvatar" class="vid" controls preload="metadata">
            <source src="" type="video/mp4" />
            <!-- Titl (DE) – postavlja se dinamički ispod -->
            <track id="avatarTrack" kind="subtitles" srclang="de" label="Deutsch" />
          </video>
        </article>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="faq">
      <h2 data-i18n="faq_title">FAQ</h2>
      <div class="item">
        <p class="q" data-i18n="faq_q1">Koliko brzo isporučujete?</p>
        <p class="a" data-i18n="faq_a1">2–4 nedelje — u zavisnosti od saradnje i odobrenja.</p>
      </div>
      <div class="item">
        <p class="q" data-i18n="faq_q2">Šta je potrebno sa vaše strane?</p>
        <p class="a" data-i18n="faq_a2">Logo, 5–8 fotografija i 3–4 ključne stavke — ostalo radimo mi.</p>
      </div>
      <div class="item">
        <p class="q" data-i18n="faq_q3">Koliko okvirno košta?</p>
        <p class="a" data-i18n="faq_a3">Početna cena od X €; tačnu procenu šaljemo nakon naše 24-časovne procene.</p>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <div>© 2025 D&M Digital — Sva prava zadržana</div>
      <div class="footer-right">Design & code: M&D</div>
    </div>
  </footer>

  <script>
    // I18N
    const I18N = {
      sr:{nav_services:"Usluge",cta_top:"Zatraži ponudu",
          badge_stack:"Digitalni dizajn • Video • Web",hero_title:"Jednostavno — pravimo da vas pamte.",
          hero_sub:"Web stranice, kratke video reklame i pametan marketing na nemačkom, srpskom i engleskom.",
          cta_portfolio:"Pogledaj portfolio",cta_services:"Usluge",
          note_menu:"Transparentan meni je stalno uključen (bez zamračenja). Ako želite poluprovidnu verziju na skrol – javite.",
          note_video:"Klikom na jezik birate verziju videa; zvuk je uključen.",
          services_title:"Šta radimo (sa fokusom na rezultate)",services_sub:"Tri stuba ponude koji najbrže donose efekat.",
          cards:[["Web","Brze, moderne web stranice","Landing stranice, prezentacije, kontakt forme uz praćenje konverzija."],
                 ["Video","Kratke video reklame","Formati 15–45 s, titlovi na DE/SR/EN, optimizovano za društvene mreže."],
                 ["Marketing","Kampanje i oglasi","Facebook/Instagram/Google, kalendar sadržaja, hashtagovi i CTA poruke."]],
          video_title:"Video",
          video_sub:"Dva kratka primera: Pekar Peter (storytelling) i Avatar Sandra (promotivni snimak). Jezik menja verziju videa.",
          video_baker_h:"Pekar Peter",
          video_avatar_h:"Avatar Sandra",
          faq_title:"FAQ",
          faq_q1:"Koliko brzo isporučujete?",
          faq_a1:"2–4 nedelje — u zavisnosti od saradnje i odobrenja.",
          faq_q2:"Šta je potrebno sa vaše strane?",
          faq_a2:"Logo, 5–8 fotografija i 3–4 ključne stavke — ostalo radimo mi.",
          faq_q3:"Koliko okvirno košta?",
          faq_a3:"Početna cena od X €; tačnu procenu šaljemo nakon naše 24-časovne procene."
      },
      de:{nav_services:"Leistungen",cta_top:"Angebot anfragen",
          badge_stack:"Digitales Design • Video • Web",hero_title:"Einfach – damit man sich an Sie erinnert.",
          hero_sub:"Websites, kurze Videoanzeigen und smartes Marketing auf Deutsch, Serbisch und Englisch.",
          cta_portfolio:"Portfolio ansehen",cta_services:"Leistungen",
          note_menu:"Transparente Navigation ist immer sichtbar. Halbtransparent beim Scrollen gern auf Wunsch.",
          note_video:"Mit der Sprache wählen Sie die Videoversion; Ton ist aktiv.",
          services_title:"Was wir machen (mit Fokus auf Ergebnisse)",services_sub:"Drei Module, die schnell Wirkung zeigen.",
          cards:[["Web","Schnelle, moderne Websites","Landingpages, Präsentationen, Kontaktformulare mit Conversion-Tracking."],
                 ["Video","Kurze Videoanzeigen","15–45-Sek.-Formate, Untertitel in DE/SR/EN, optimiert für Social Media."],
                 ["Marketing","Kampagnen & Anzeigen","Facebook/Instagram/Google, Content-Kalender, Hashtags & CTA-Botschaften."]],
          video_title:"Video",
          video_sub:"Zwei kurze Beispiele: Bäcker Peter (Storytelling) und Avatar Sandra (Promo-Clip). Die Sprache wechselt die Videoversion.",
          video_baker_h:"Bäcker Peter",
          video_avatar_h:"Avatar Sandra",
          faq_title:"FAQ",
          faq_q1:"Wie schnell liefern Sie?",
          faq_a1:"2–4 Wochen — abhängig von Zusammenarbeit und Freigaben.",
          faq_q2:"Was benötigen Sie von uns?",
          faq_a2:"Logo, 5–8 Fotos und 3–4 Kernpunkte — den Rest erledigen wir.",
          faq_q3:"Was kostet es ungefähr?",
          faq_a3:"Startpreis ab X €; das genaue Angebot senden wir nach unserer 24-Stunden-Einschätzung."
      },
      en:{nav_services:"Services",cta_top:"Request a quote",
          badge_stack:"Digital design • Video • Web",hero_title:"Simple — so people remember you.",
          hero_sub:"Websites, short video ads and smart marketing in German, Serbian and English.",
          cta_portfolio:"View portfolio",cta_services:"Services",
          note_menu:"Transparent nav is always on; semi-transparent on scroll on request.",
          note_video:"Language also selects the video version; sound is on.",
          services_title:"What we do (focused on results)",services_sub:"Three pillars that deliver fast impact.",
          cards:[["Web","Fast, modern websites","Landing pages, presentations, contact forms with conversion tracking."],
                 ["Video","Short video ads","15–45s formats, subtitles in DE/SR/EN, optimized for social media."],
                 ["Marketing","Campaigns & ads","Facebook/Instagram/Google, content calendar, hashtags & CTA messages."]],
          video_title:"Video",
          video_sub:"Two short examples: Baker Peter (storytelling) and Avatar Sandra (promo clip). Language switches the video version.",
          video_baker_h:"Baker Peter",
          video_avatar_h:"Avatar Sandra",
          faq_title:"FAQ",
          faq_q1:"How fast do you deliver?",
          faq_a1:"2–4 weeks — depending on collaboration and approvals.",
          faq_q2:"What do you need from us?",
          faq_a2:"Logo, 5–8 photos and 3–4 key points — we handle the rest.",
          faq_q3:"Roughly how much does it cost?",
          faq_a3:"Starting price from X €; we send an exact quote after our 24-hour assessment."
      }
    };

    // GitHub RAW baza
    const GH = "https://raw.githubusercontent.com/dmdigitalenterpriseteam-rgb/dm-langing/main/";

    // 1) HERO (Robot): Avatar de/eng/srb
    const VIDEO_SRC = {
      de: GH + "Avatar%20de.mp4",
      en: GH + "Avatar%20eng.mp4",
      sr: GH + "Avatar%20srb.mp4"
    };

    // 2) Pekar Peter (isti za sve jezike)
    const VIDEO_BAKER_SRC = {
      sr: GH + "peters-baeckerei.mp4",
      de: GH + "peters-baeckerei.mp4",
      en: GH + "peters-baeckerei.mp4"
    };

    // 3) Avatar Sandra: DE specifično, SR/EN fallback
    const VIDEO_AVATAR_SRC = {
      de: GH + "sandra-avatar-de.mp4",
      en: GH + "avatar-iv.mp4",
      sr: GH + "avatar-iv.mp4"
    };

    // 4) Titl (DE) – koristiš fajl koji si konvertovao: sandra-avatar.vtt
    const SUB_AVATAR_SRC = {
      de: GH + "sandra-avatar.vtt"   // <— ako se fajl u repo-u zove drugačije, promeni ovu liniju
    };

    function setActive(code){
      document.querySelectorAll('.lang button').forEach(b=>{
        b.classList.toggle('active', (b.getAttribute('data-setlang')||'').toLowerCase()===code);
      });
    }

    function fillText(lang){
      const M = I18N[lang];
      document.documentElement.setAttribute('lang', lang);
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const k=el.getAttribute('data-i18n'); if(M[k]) el.textContent = M[k];
      });
      const cards = Array.from(document.querySelectorAll('#serviceCards .card'));
      for(let i=0;i<Math.min(3,cards.length);i++){
        const [chip,title,desc] = M.cards[i];
        const c = cards[i]; const chipEl=c.querySelector('.chip'); const h3=c.querySelector('h3'); const p=c.querySelector('p');
        if(chipEl) chipEl.textContent = chip; if(h3) h3.textContent = title; if(p) p.textContent = desc;
      }
    }

    function setVideoSource(videoId, srcMap, lang){
      const v = document.getElementById(videoId); if(!v) return;
      const s = v.querySelector('source'); const url = srcMap[lang] || srcMap.sr || "";
      if(s && url && s.getAttribute('src') !== url){
        try{ v.pause(); }catch(e){}
        s.setAttribute('src', url);
        v.load();
      }
    }

    function applySubtitlesForAvatar(lang){
      const track = document.getElementById('avatarTrack');
      if(!track) return;
      if(lang === 'de' && SUB_AVATAR_SRC.de){
        track.setAttribute('src', SUB_AVATAR_SRC.de);
        track.mode = 'showing';
        track.default = true;
      } else {
        track.removeAttribute('src');
        track.default = false;
        try {
          const v = document.getElementById('videoAvatar');
          if (v && v.textTracks && v.textTracks[0]) v.textTracks[0].mode = 'disabled';
        } catch(e){}
      }
    }

    function setVideosByLang(lang){
      setVideoSource('heroVideo',  VIDEO_SRC,        lang);
      setVideoSource('videoBaker', VIDEO_BAKER_SRC,  lang);
      setVideoSource('videoAvatar',VIDEO_AVATAR_SRC, lang);
      applySubtitlesForAvatar(lang);
    }

    function applyLang(lang){
      lang=(lang||'sr').toLowerCase();
      if(lang.startsWith('de')) lang='de';
      else if(lang.startsWith('en')) lang='en';
      else lang='sr';
      fillText(lang);
      setVideosByLang(lang);
      try{ localStorage.setItem('lang', lang); }catch(e){}
      setActive(lang);
    }

    document.addEventListener('click', (e)=>{
      const t = e.target.closest('[data-setlang]'); if(!t) return;
      applyLang( (t.getAttribute('data-setlang')||'sr').toLowerCase() );
    });

    const initial = localStorage.getItem('lang') || document.documentElement.getAttribute('lang') || 'sr';
    if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', ()=>applyLang(initial)); }
    else { applyLang(initial); }
  </script>
</body>
</html>
